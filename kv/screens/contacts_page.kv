#:import get_color_from_hex kivy.utils.get_color_from_hex
<ContactsPage>:
    name: "Screen11"
    id: coco
    on_enter: coco.set_list_md_icons()
    canvas.before:
        PushMatrix:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            size: self.size
            pos: self.pos
    canvas.after:
        PopMatrix:

    MDBoxLayout:
        orientation: 'vertical'
        #spacing: dp(10)
        #padding: dp(20)

        MDFloatLayout:
            adaptive_height: True
            md_bg_color: 1, 1, 1, 1
            size_hint: 1, 0.1

            TextInput:
                pos_hint: {"center_y": 0.5, "center_x": 0.5}
                on_text: coco.set_list_md_icons(self.text, True)
                multiline: False
                background_active: ""
                background_color: 1, 1, 1, 1
                background_disabled_normal: ""
                background_normal: ""
                cursor_color: 0, 0, 0, 1
                font_name: "fonts/Montserrat-Light.ttf"
                font_size: "12dp"
                hint_text: "Search"
                hint_text_color: 0, 0, 0, 1
                color: 0, 0, 0, 1
                padding: 45, 11.9
                size_hint_y: None
                size_hint_x: .97
                height: 40
                
                #size_hint: 1, 
                canvas.before:
                    Color:
                        rgba: get_color_from_hex("F3F6F6")
                    Line:
                        width: 1
                        rounded_rectangle: self.x, self.y, self.width, self.height, 10, 100

                    RoundedRectangle:
                        radius: [10]
                        size: self.size
                        pos: self.pos
                    Color:
                        rgba: 0, 0, 0,1 

            MDIconButton:
                icon: 'magnify'
                icon_color: 0, 0, 0, 1
                icon_size: '30dp'
                theme_icon_color: "Custom"
                pos_hint: {"center_x": 0.07, "center_y": 0.5}

            MDIconButton:
                icon: 'close'
                icon_color: 0, 0, 0, 1
                icon_size: '30dp'
                theme_icon_color: "Custom"
                pos_hint: {"center_x": 0.94, "center_y": 0.5}
                on_release: coco.changeToHomeScreen(app)
            

            
               

        RecycleView:
            id: rv
            key_viewclass: 'viewclass'
            key_size: 'height'

            RecycleBoxLayout:
                #padding: dp(10)
                default_size: None, dp(80)
                default_size_hint: 1, None
                size_hint_y: None
                height: self.minimum_height
                orientation: 'vertical'


<ContactItem>:
    md_bg_color: 0.5, 0.8, 0.8, 1
    size_hint: 1, .15
    id: contactItem
    avatar: 'http://127.0.0.1:8000/media/images/avatars/1/filename.jpg'
    full_name: "Yekorogha Ayebatariwalate"
    user_id: "19010301043"
    Button:
        id: CI
        background_normal: ""
        background_active: ""
        on_press: self.parent.changeToMessageScreen(self.parent, app)
        FitImage:
            source: contactItem.avatar
            size: CI.height - 10, CI.height - 10
            radius: [50]
            pos: CI.pos[0] + 10, CI.pos[1] + 5
            canvas.before:
                Color:
                    rgba: get_color_from_hex("F3F6F6")
                Ellipse:
                    angle_start: 0
                    angle_end: 360
                    size: self.size
                    pos: self.pos
        MDLabel:
            text: contactItem.full_name
            font_name: "fonts/arialmt.ttf"
            font_size: "19dp"
            size_hint_x: None
            width: 500
            pos: CI.pos[0] + 83, CI.pos[1]
        MDLabel:
            text: contactItem.user_id
            font_name: "fonts/Montserrat-Light.ttf"
            font_size: "15dp"
            pos: CI.pos[0] + 85, CI.pos[1] - 20





