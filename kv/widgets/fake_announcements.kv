#:import get_color_from_hex kivy.utils.get_color_from_hex
<FakeAnnouncements>:
    name: 'fake_announcements'
    text: 'Announce'
    icon: 'bullhorn-outline'
    id: fake_announcements
    #TODO: on_tab_release: announcements.show_announcements()
    MDScreen:
        md_bg_color: 0, 14/255, 8/255, 1
        AnchorLayout:
            anchor_x: "center"
            anchor_y: "top"
            TopBar:
                id: top_bar_1
                title: "Create Announcement"
        MDFloatLayout:
##################The first part of the MDTopBar##########################################################################################################################################
            # To hid the real MDTopAppBar left icon
            MDBoxLayout:
                size_hint: None, None
                size: 100, 100
                pos_hint: {'right': 0.25, 'top': 0.99}
                md_bg_color: 0, 14/255, 8/255, 1       

            MDIconButton:
                icon: 'arrow-left-thin'
                icon_color: 1, 1, 1, 1
                icon_size: '30dp'
                theme_icon_color: "Custom"
                pos: top_bar_1.pos[0] + 10, top_bar_1.pos[1] + 3
                canvas.after:
                    Color:
                        rgb: 59/255, 63/255, 59/255, 1
                    Line:
                        width: 1
                        circle: (self.center_x, self.center_y, min(self.width-2, self.height-2)/2, 0, 360)
            
                
                     
#######################################################################################################################################################################################################################################################################################################333
#### The White Part of the Screen code#################################################################################################################################
#########################################################################################################################################################################
        MDFloatLayout:
            id: settingsLayout
            md_bg_color: 1, 1, 1, 1
            orientation: "vertical"
            size_hint: 1, .88
            pos_hint: {"center_x": .5, "y": 0}
            radius: [40,40, 0, 0]
            Label:
                id: design
                canvas:
                    Color:
                        rgba: 230/255, 230/255, 230/255, 1
                    RoundedRectangle:
                        size: self.width/12, 3
                        pos: self.width/2 - (self.width/8)/2, self.parent.height - 15
                        radius: [2]

            #TITLE
            MDBoxLayout:
                #md_bg_color: [1, 0.4, 0.5, 1]
                orientation: "vertical"
                size_hint: .8, .13
                pos_hint: {"center_x": 0.5, "center_y": 0.84}
                #padding: "4dp"
                MDLabel:
                    text: "Title"
                    font_size: "18dp"
                    font_name: "fonts/ARLRDBD.TTF"
                    halign: "left"
                    valign: "top"
                    bold: True
                TextInput:
                    multiline: False
                    background_active: ""
                    background_color: 1, 1, 1, 1
                    background_disabled_normal: ""
                    background_normal: ""
                    cursor_color: 0, 0, 0, 1
                    font_name: "fonts/Montserrat-Light.ttf"
                    font_size: "12dp"
                    hint_text: "Type your title here.."
                    hint_text_color: 180/255, 174/255, 174/255, 1
                    color: 0, 0, 0, 1
                    padding: 10, 9.5
                    size_hint_y: None
                    height: 40
                    #size_hint: 1, 
                    canvas.after:
                        Color:
                            rgba: (205/255, 202/255, 202/255, 1)
                        Line:
                            width: 1
                            rounded_rectangle: self.x, self.y, self.width, self.height, 10, 100

            # CONTENT
            MDBoxLayout:
                #md_bg_color: [1, 0.4, 0.5, 1]
                orientation: "vertical"
                size_hint: .8, .3
                pos_hint: {"center_x": 0.5, "center_y": 0.61}
                MDLabel:
                    text: "Content"
                    font_size: "18dp"
                    font_name: "fonts/ARLRDBD.TTF"
                    halign: "left"
                    valign: "top"
                    bold: True
                TextInput:
                    multiline: True
                    background_active: ""
                    background_color: 1, 1, 1, 1
                    background_disabled_normal: ""
                    background_normal: ""
                    cursor_color: 0, 0, 0, 1
                    font_name: "fonts/Montserrat-Light.ttf"
                    font_size: "12dp"
                    hint_text: "Type your announcement here.."
                    hint_text_color: 180/255, 174/255, 174/255, 1
                    color: 0, 0, 0, 1
                    padding: 10, 9.5
                    size_hint_y: None
                    height: 120
                    #size_hint: 1, 
                    canvas.after:
                        Color:
                            rgba: (205/255, 202/255, 202/255, 1)
                        Line:
                            width: 1
                            rounded_rectangle: self.x, self.y, self.width, self.height, 10, 100

            # BACKGROUNDS
            MDBoxLayout:
                #md_bg_color: [1, 0.4, 0.5, 1]
                orientation: "horizontal"
                size_hint: .8, .18
                pos_hint: {"center_x": 0.5, "center_y": 0.33}
                spacing: "15dp"
                ToggleButton:
                    text: "hello"
                    id: background-1
                    #background_color: get_color_from_hex("FFFFFF")
                    background_down: ""
                    background_normal: ""
                    line_color: (205/255, 202/255, 202/255, 1)
                    group: "background"
                    on_state: fake_announcements.showBackSelection()
                    state: "down"
                    canvas.after:
                        RoundedRectangle:
                            radius: [20]
                            source: "images/background-1.jpg"
                            size: self.size
                            pos: self.pos
                        Color:
                            rgba: self.line_color
                        Line:
                            width: 1
                            rounded_rectangle: self.x - 5, self.y - 5, self.width + 10, self.height + 10, 20, 100
                        
                ToggleButton:
                    text: "world!"
                    group: "background"
                    id: background-2
                    background_down: ""
                    background_normal: ""
                    line_color: 1, 1, 1, 1
                    on_state: fake_announcements.showBackSelection()
                    background_color: get_color_from_hex("FFFFFF")
                    canvas.after:
                        RoundedRectangle:
                            radius: [20]
                            source: "images/background-2.jpg"
                            size: self.size
                            pos: self.pos
                        Color:
                            rgba: self.line_color
                        Line:
                            width: 1
                            rounded_rectangle: self.x - 5, self.y - 5, self.width + 10, self.height + 10, 20, 100
                ToggleButton:
                    text: "hand!"
                    group: "background"
                    id: background-3
                    line_color: 1, 1, 1, 1
                    background_down: ""
                    background_normal: ""
                    on_state: fake_announcements.showBackSelection()
                    background_color: get_color_from_hex("FFFFFF")
                    canvas.after:
                        RoundedRectangle:
                            radius: [20]
                            source: "images/background-3.jpg"
                            size: self.size
                            pos: self.pos
                        Color:
                            rgba: self.line_color
                        Line:
                            width: 1
                            rounded_rectangle: self.x - 5, self.y - 5, self.width + 10, self.height + 10, 20, 100
           
            # PUBLISH BOTTOM
            MDBoxLayout:
                orientation: "vertical"
                size_hint: 0.8, 0.07
                pos_hint: {"center_x": 0.5, "center_y":0.15}
                SmoothButton:
                    id: log_in_button2
                    text:"Publish"
                    back_color: 32/255, 160/255, 144/255, 1#(36/255, 120/255, 109/255, 1)
                    font_name: 'Arialbd'
                    font_size: "15dp"
                    color: (1, 1, 1, 1)
                    radius: [28]
            # CANCEL BOTTOM
            MDBoxLayout:
                orientation: "vertical"
                size_hint: 0.8, 0.07
                pos_hint: {"center_x": 0.5, "center_y":0.05}
                SmoothButton:
                    id: log_in_button2
                    text:"Cancel"
                    back_color: 241/255, 255/255, 253/255, 1
                    font_name: 'Arialbd'
                    font_size: "15dp"
                    color: 220/255, 0, 0, 1
                    radius: [28]
                    canvas.after:
                        Color:
                            rgba: 180/255, 174/255, 174/255, 0.2
                        Line:
                            width: 1
                            rounded_rectangle: self.x, self.y, self.width, self.height, 17.5, 100




        
    
    

