<GroupChats>:
    name: 'group_chats'
    id: group_chats
    text: 'Groups'
    icon: 'account-group-outline'
    on_tab_release: group_chats.show_groups()
    MDScreen:
        md_bg_color: 0, 14/255, 8/255, 1
        AnchorLayout:
            anchor_x: "center"
            anchor_y: "top"
            TopBar:
                id: top_bar_1
                title: "Groups"
        MDFloatLayout:
##################The first part of the MDTopBar##########################################################################################################################################
            # To hid the real MDTopAppBar left icon
            MDBoxLayout:
                size_hint: None, None
                size: 100, 100
                pos_hint: {'right': 0.25, 'top': 0.99}
                md_bg_color: 0, 14/255, 8/255, 1       

            MDIconButton:
                icon: 'magnify'
                icon_color: 1, 1, 1, 1
                icon_size: '30dp'
                theme_icon_color: "Custom"
                pos: top_bar_1.pos[0] + 10, top_bar_1.pos[1] + 3
                
                canvas.after:
                    Color:
                        rgb: 59/255, 63/255, 59/255, 1
                    Line:
                        width: 1
                        circle: (self.center_x, self.center_y, min(self.width-2, self.height-2)/2, 0, 360)
            
            ######The Second part of the MDTopBar###########################################################################################################################################333
            # To hid the real MDTopAppBar right icon
            MDBoxLayout:
                size_hint: None, None
                size: 100, 100
                pos_hint: {'right': 0.98, 'top': 0.99}
                md_bg_color: 0, 14/255, 8/255, 1

            MDIconButton:
                icon: 'account-multiple-plus-outline'
                icon_color: 1, 1, 1, 1
                #back: 'images/plus.png'
                icon_size: '30dp'
                theme_icon_color: "Custom"
                pos_hint: {'right': 0.98, 'top': 0.99}
                
                canvas.before:
                    Color: 
                        rgb: 1, 1, 1, 1
                    Line:
                        width: 1
                        circle: (self.center_x, self.center_y, min(self.width-2, self.height-2)/2, 0, 360)
########################################################################################################################################################
#### The White Part of the Screen code#################################################################################################################################
#########################################################################################################################################################################
            MDBoxLayout:
                md_bg_color: 1, 1, 1, 1
                orientation: "vertical"
                size_hint: 1, .7
                pos_hint: {"center_x": .5, "y": 0}
                radius: [40,40, 0, 0]
                Label: # the weird design
                    id: design
                    canvas:
                        Color:
                            rgba: 230/255, 230/255, 230/255, 1
                        RoundedRectangle:
                            size: self.width/12, 3
                            pos: self.width/2 - (self.width/8)/2, self.parent.height - 40
                            radius: [2]

                ScrollView:
                    do_scroll_x: False
                    do_scroll_y: True
                    size_hint: 1, None
                    size: self.parent.width, self.parent.height - 50
                    #pos: self.parent.pos[0], self.parent.pos[0] - 120
                    BoxLayout:
                        id: groupie
                        orientation: "vertical"
                        size_hint_y: None
                        size_hint_x: 1
                        height: 400 
###########################################################
        MDLabel:
            id: loading
            text: "Loading..."
            font_size: "36dp"
            halign: "center"
            valign: "center"
            color: 0, 0, 0, 1
            opacity: 1 

                


                

